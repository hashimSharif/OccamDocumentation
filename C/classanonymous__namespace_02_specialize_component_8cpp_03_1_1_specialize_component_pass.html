<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Occam - Application Specialization: anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Occam - Application Specialization
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceanonymous__namespace_02_specialize_component_8cpp_03.html">anonymous_namespace{SpecializeComponent.cpp}</a></li><li class="navelem"><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html">SpecializeComponentPass</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.png" usemap="#anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass_map" alt=""/>
  <map id="anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass_map" name="anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass_map">
<area href="class_module_pass.html" alt="ModulePass" shape="rect" coords="0,0,455,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a370b081a68279052cfa1f31c592ceae9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html#a370b081a68279052cfa1f31c592ceae9">SpecializeComponentPass</a> ()</td></tr>
<tr class="separator:a370b081a68279052cfa1f31c592ceae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f51e839c779a92afff3275b2a8efd9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html#a66f51e839c779a92afff3275b2a8efd9">~SpecializeComponentPass</a> ()</td></tr>
<tr class="memdesc:a66f51e839c779a92afff3275b2a8efd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="#a66f51e839c779a92afff3275b2a8efd9">More...</a><br/></td></tr>
<tr class="separator:a66f51e839c779a92afff3275b2a8efd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad976732d78a98e634e78ef75ebfe59"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html#aaad976732d78a98e634e78ef75ebfe59">runOnModule</a> (Module &amp;M)</td></tr>
<tr class="separator:aaad976732d78a98e634e78ef75ebfe59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89dc42acab989da603b00019e9ff43b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html#ad89dc42acab989da603b00019e9ff43b">getAnalysisUsage</a> (AnalysisUsage &amp;AU) const </td></tr>
<tr class="separator:ad89dc42acab989da603b00019e9ff43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6a37c06b6e2cf5bd13599ce23ffd9725"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classprevirt_1_1_component_interface_transform.html">ComponentInterfaceTransform</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html#a6a37c06b6e2cf5bd13599ce23ffd9725">transform</a></td></tr>
<tr class="memdesc:a6a37c06b6e2cf5bd13599ce23ffd9725"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>transform</em> is an object of <a class="el" href="classprevirt_1_1_component_interface_transform.html">previrt::ComponentInterfaceTransform</a> ( wrapper above the Google protocol buffer class <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a>) that is read from a serialized Google protocol buffer file. The format of the Class is described as a message in the <em>Previrt.proto</em> file, and is compiled by the <em>protoc</em> compiler into Google protocol buffer classes. The object contains the external interfaces and calls that were gathered by the <a class="el" href="classprevirt_1_1_gather_interface2_pass.html">previrt::GatherInterface2Pass</a>. The interfaces with the set of arguments are required for creating new versions of functions based on the specific usages.  <a href="#a6a37c06b6e2cf5bd13599ce23ffd9725">More...</a><br/></td></tr>
<tr class="separator:a6a37c06b6e2cf5bd13599ce23ffd9725"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a7714c3729bcfb28925282076761d3f75"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html#a7714c3729bcfb28925282076761d3f75">ID</a></td></tr>
<tr class="separator:a7714c3729bcfb28925282076761d3f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html">SpecializeComponentPass</a> implements one phase of a three phase Inter-Module specialization process. The steps of the process are:</p>
<p>1) Gathering external references across all modules, so that the specific usages of functions outside the modules where they are defined can be captured. This collection is performed by the <em>'Pinterface2'</em> pass implemented, in the <a class="el" href="classprevirt_1_1_gather_interface2_pass.html">previrt::GatherInterface2Pass</a> class.</p>
<p>2) Given the specific usages, serialized into a file as a <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> object, the <a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html">SpecializeComponentPass</a> creates specialized versions of function in the modules where they have been defined.</p>
<p>3) Once the specialized functions are created, the corresponding calls to the specialized versions, need to be rewritten, taking a fewer number of arguments. The call rewriting process is accomplished by the <em>'Prewrite'</em> Pass implemented by the <a class="el" href="classprevirt_1_1_rewrite_component_pass.html">previrt::RewriteComponentPass</a> class.</p>
<p><a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html">SpecializeComponentPass</a> is registered as a Pass ,with the PassManager internal database with the name <em>'Pspecialize'</em>. The Pass takes two arguments. The first argument (required argument) is the name of the file along with the <em>'Pspecialize-input'</em> flag containing a serialized <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> serialized buffer, that contains the list of functions to specialize along with the set of argument values to specialize with respect to. The second argument (optional argument) is the name of an output file that follows the <em>'Pspecialize-output'</em> flag. The uniquely assigned function names of the specialized functions along with the reduced set of arguments is printed to the file as a serialized <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> Google protocol buffer. The file is input to the next phase of inter-module specialization that is <a class="el" href="classprevirt_1_1_rewrite_component_pass.html">previrt::RewriteComponentPass</a> that takes as input the <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> buffer and specializes all call-sites made to the specialized functions. </p>

<p>Definition at line <a class="el" href="_specialize_component_8cpp_source.html#l00223">223</a> of file <a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a370b081a68279052cfa1f31c592ceae9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass::SpecializeComponentPass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The constructor parses a <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a>, from the serialized file to the <em>transform</em> class data member. The file name is passed as a command line argument to the pass. The file contains a serialized <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> object that contains an array of <a class="el" href="classprevirt_1_1proto_1_1_call_rewrite.html">previrt::proto::CallRewrite</a> objects, that contain the Call information (name of function,arguments to the function), and the set of arguments values used to create specialized versions of functions. </p>

<p>Definition at line <a class="el" href="_specialize_component_8cpp_source.html#l00240">240</a> of file <a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a66f51e839c779a92afff3275b2a8efd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass::~SpecializeComponentPass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor. </p>

<p>Definition at line <a class="el" href="_specialize_component_8cpp_source.html#l00269">269</a> of file <a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad89dc42acab989da603b00019e9ff43b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass::getAnalysisUsage </td>
          <td>(</td>
          <td class="paramtype">AnalysisUsage &amp;&#160;</td>
          <td class="paramname"><em>AU</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The addAnalysisUsage method adds the necessary information required by the passes. For specialization, we require the call graph </p>

<p>Definition at line <a class="el" href="_specialize_component_8cpp_source.html#l00332">332</a> of file <a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaad976732d78a98e634e78ef75ebfe59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass::runOnModule </td>
          <td>(</td>
          <td class="paramtype">Module &amp;&#160;</td>
          <td class="paramname"><em>M</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The <a class="el" href="classanonymous__namespace_02_specialize_component_8cpp_03_1_1_specialize_component_pass.html#aaad976732d78a98e634e78ef75ebfe59">SpecializeComponentPass::runOnModule</a> method creates specialized versions of the functions, corresponding to each distinct context of use.</p>
<p>1) <a class="el" href="namespaceprevirt.html#aa3b323b94202458588531c252d69e282">previrt::SpecializeComponent</a> is called to create specialized functions with respect to the <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> (defining the usage) of the functions.</p>
<p>2) The new specialized functions created are added to the Module M.</p>
<p>3) If an output file name is specified as a command line argument to the <em>'Pspecialize'</em> Pass, the Interface consisting of functions specialized, and their reduced arguments are written to the <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> serialized file.</p>
<p>Note: The original functions are not removed from the Module, unless <em>'Poccam'</em> Pass is applied to perform dead code elimination. </p>

<p>Definition at line <a class="el" href="_specialize_component_8cpp_source.html#l00287">287</a> of file <a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a>.</p>

<p>References <a class="el" href="namespaceprevirt.html#aa3b323b94202458588531c252d69e282">previrt::SpecializeComponent()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7714c3729bcfb28925282076761d3f75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass::ID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_specialize_component_8cpp_source.html#l00231">231</a> of file <a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6a37c06b6e2cf5bd13599ce23ffd9725"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprevirt_1_1_component_interface_transform.html">ComponentInterfaceTransform</a> anonymous_namespace{SpecializeComponent.cpp}::SpecializeComponentPass::transform</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>transform</em> is an object of <a class="el" href="classprevirt_1_1_component_interface_transform.html">previrt::ComponentInterfaceTransform</a> ( wrapper above the Google protocol buffer class <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a>) that is read from a serialized Google protocol buffer file. The format of the Class is described as a message in the <em>Previrt.proto</em> file, and is compiled by the <em>protoc</em> compiler into Google protocol buffer classes. The object contains the external interfaces and calls that were gathered by the <a class="el" href="classprevirt_1_1_gather_interface2_pass.html">previrt::GatherInterface2Pass</a>. The interfaces with the set of arguments are required for creating new versions of functions based on the specific usages. </p>

<p>Definition at line <a class="el" href="_specialize_component_8cpp_source.html#l00230">230</a> of file <a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Hashim/Dropbox/Occam 2.0/src/<a class="el" href="_specialize_component_8cpp_source.html">SpecializeComponent.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 27 2013 00:22:29 for Occam - Application Specialization by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
