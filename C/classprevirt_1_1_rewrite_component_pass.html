<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Occam - Application Specialization: previrt::RewriteComponentPass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Occam - Application Specialization
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceprevirt.html">previrt</a></li><li class="navelem"><a class="el" href="classprevirt_1_1_rewrite_component_pass.html">RewriteComponentPass</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classprevirt_1_1_rewrite_component_pass-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">previrt::RewriteComponentPass Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for previrt::RewriteComponentPass:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classprevirt_1_1_rewrite_component_pass.png" usemap="#previrt::RewriteComponentPass_map" alt=""/>
  <map id="previrt::RewriteComponentPass_map" name="previrt::RewriteComponentPass_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a950cb9740bb37661e5f1faadc300b03e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprevirt_1_1_rewrite_component_pass.html#a950cb9740bb37661e5f1faadc300b03e">RewriteComponentPass</a> ()</td></tr>
<tr class="separator:a950cb9740bb37661e5f1faadc300b03e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af147d8c76b2c1601ba31ca85891ef626"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprevirt_1_1_rewrite_component_pass.html#af147d8c76b2c1601ba31ca85891ef626">~RewriteComponentPass</a> ()</td></tr>
<tr class="memdesc:af147d8c76b2c1601ba31ca85891ef626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="#af147d8c76b2c1601ba31ca85891ef626">More...</a><br/></td></tr>
<tr class="separator:af147d8c76b2c1601ba31ca85891ef626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0bcc86afdb9a63bb6f3964d8b998f1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprevirt_1_1_rewrite_component_pass.html#a1c0bcc86afdb9a63bb6f3964d8b998f1">runOnModule</a> (Module &amp;M)</td></tr>
<tr class="separator:a1c0bcc86afdb9a63bb6f3964d8b998f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4fd909ff1bf74e3803f737771afd0cf4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classprevirt_1_1_component_interface_transform.html">ComponentInterfaceTransform</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprevirt_1_1_rewrite_component_pass.html#a4fd909ff1bf74e3803f737771afd0cf4">transform</a></td></tr>
<tr class="memdesc:a4fd909ff1bf74e3803f737771afd0cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>transform</em> is an object of <a class="el" href="classprevirt_1_1_component_interface_transform.html">previrt::ComponentInterfaceTransform</a> (wrapper above Google protocol buffer) that is read from a serialized google protocol buffer file. The format of the Class is described as a message in the <em>Previrt.proto</em> file, and is compiled by the <em>protoc</em> compiler into Google protocol buffer classes. The object contains an array of <a class="el" href="structprevirt_1_1_call_rewrite.html">previrt::CallRewrite</a>. The <a class="el" href="structprevirt_1_1_call_rewrite.html">previrt::CallRewrite</a> objects contain the information for call-site rewriting; names of the specialized functions, and the set of reduced arguments.  <a href="#a4fd909ff1bf74e3803f737771afd0cf4">More...</a><br/></td></tr>
<tr class="separator:a4fd909ff1bf74e3803f737771afd0cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a70d692a7b771c6264837a1701e2ff945"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprevirt_1_1_rewrite_component_pass.html#a70d692a7b771c6264837a1701e2ff945">ID</a></td></tr>
<tr class="separator:a70d692a7b771c6264837a1701e2ff945"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classprevirt_1_1_rewrite_component_pass.html">RewriteComponentPass</a> implements one phase of a three phase Inter-Module specialization process. The steps of the process are:</p>
<p>1) Gathering external references across all modules, so that the specific usages of functions outside the modules where they are defined can be captured. This collection is performed by the 'Pinterface2' pass implemented, in the <a class="el" href="classprevirt_1_1_gather_interface2_pass.html">previrt::GatherInterface2Pass</a> class.</p>
<p>2) Given the specific usages, serialized into a file as a <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a> object, the previrt::SpecializeComponentPass creates specialized versions of function in the modules where they have been defined.</p>
<p>3) Once the specialized functions are created, the corresponding calls to the specialized versions, need to be rewritten, taking a fewer number of arguments. The call rewriting process is accomplished by the <em>'Prewrite'</em> Pass implemented by the <a class="el" href="classprevirt_1_1_rewrite_component_pass.html">RewriteComponentPass</a> class.</p>
<p><a class="el" href="classprevirt_1_1_rewrite_component_pass.html">RewriteComponentPass</a> is registered as a Pass, with the PassManager internal database by the name 'Prewrite'. The Pass takes an argument (required argument) 'Prewrite-input' flag followed by a file name that specifies the interface to rewrite using (a buffer of type <a class="el" href="classprevirt_1_1proto_1_1_component_interface_transform.html">previrt::proto::ComponentInterfaceTransform</a>). </p>

<p>Definition at line <a class="el" href="_rewrite_component_8cpp_source.html#l00291">291</a> of file <a class="el" href="_rewrite_component_8cpp_source.html">RewriteComponent.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a950cb9740bb37661e5f1faadc300b03e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">previrt::RewriteComponentPass::RewriteComponentPass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The constructor parses the <a class="el" href="classprevirt_1_1_component_interface_transform.html">previrt::ComponentInterfaceTransform</a>, from the serialized file to the transform class member object. The file name is passed as a command line argument to the pass. The file contains the specialized function names and the set of specialized arguments. </p>

<p>Definition at line <a class="el" href="_rewrite_component_8cpp_source.html#l00306">306</a> of file <a class="el" href="_rewrite_component_8cpp_source.html">RewriteComponent.cpp</a>.</p>

<p>References <a class="el" href="namespaceprevirt.html#a6401dc9a1a12978108e1a635b006b4cc">previrt::RewriteComponentInput()</a>.</p>

</div>
</div>
<a class="anchor" id="af147d8c76b2c1601ba31ca85891ef626"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual previrt::RewriteComponentPass::~RewriteComponentPass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor. </p>

<p>Definition at line <a class="el" href="_rewrite_component_8cpp_source.html#l00330">330</a> of file <a class="el" href="_rewrite_component_8cpp_source.html">RewriteComponent.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1c0bcc86afdb9a63bb6f3964d8b998f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool previrt::RewriteComponentPass::runOnModule </td>
          <td>(</td>
          <td class="paramtype">Module &amp;&#160;</td>
          <td class="paramname"><em>M</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The <a class="el" href="classprevirt_1_1_rewrite_component_pass.html#a1c0bcc86afdb9a63bb6f3964d8b998f1">RewriteComponentPass::runOnModule</a> calls <a class="el" href="namespaceprevirt.html#a1cf0511d7da4f191063d8e2771059e1c">previrt::TransformComponent</a> which in turn calls <a class="el" href="namespaceprevirt.html#ab378a9f82cb1bcca7de84b7747ce8945">previrt::TransformComponentWithUse</a> with the <a class="el" href="classprevirt_1_1_component_interface_transform.html">ComponentInterfaceTransform</a> object read from the file as argument, in order to specialize call-sites with respect to the specified interface. If the object was not populated from the serialized file, false is returned.</p>
<p>The <a class="el" href="namespaceprevirt.html#a1cf0511d7da4f191063d8e2771059e1c">previrt::TransformComponent</a> function, iterates over the uses of the functions defined in the interface. If a call-site to a specialized function is found within the module, and a <a class="el" href="structprevirt_1_1_call_rewrite.html">previrt::CallRewrite</a> object is available for the call-site, <a class="el" href="namespaceprevirt.html#a4842c447a93bad0172f4c355f737f905">previrt::applyRewriteToCall</a> is called to create a new call instruction with fewer number of arguments. ReplaceInstWithInst (llvm) is called to replace the old call-sites with rewritten call-sites. </p>

<p>Definition at line <a class="el" href="_rewrite_component_8cpp_source.html#l00344">344</a> of file <a class="el" href="_rewrite_component_8cpp_source.html">RewriteComponent.cpp</a>.</p>

<p>References <a class="el" href="namespaceprevirt.html#a1cf0511d7da4f191063d8e2771059e1c">previrt::TransformComponent()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a70d692a7b771c6264837a1701e2ff945"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char previrt::RewriteComponentPass::ID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_rewrite_component_8cpp_source.html#l00299">299</a> of file <a class="el" href="_rewrite_component_8cpp_source.html">RewriteComponent.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4fd909ff1bf74e3803f737771afd0cf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprevirt_1_1_component_interface_transform.html">ComponentInterfaceTransform</a> previrt::RewriteComponentPass::transform</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>transform</em> is an object of <a class="el" href="classprevirt_1_1_component_interface_transform.html">previrt::ComponentInterfaceTransform</a> (wrapper above Google protocol buffer) that is read from a serialized google protocol buffer file. The format of the Class is described as a message in the <em>Previrt.proto</em> file, and is compiled by the <em>protoc</em> compiler into Google protocol buffer classes. The object contains an array of <a class="el" href="structprevirt_1_1_call_rewrite.html">previrt::CallRewrite</a>. The <a class="el" href="structprevirt_1_1_call_rewrite.html">previrt::CallRewrite</a> objects contain the information for call-site rewriting; names of the specialized functions, and the set of reduced arguments. </p>

<p>Definition at line <a class="el" href="_rewrite_component_8cpp_source.html#l00298">298</a> of file <a class="el" href="_rewrite_component_8cpp_source.html">RewriteComponent.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Hashim/Dropbox/Occam 2.0/src/<a class="el" href="_rewrite_component_8cpp_source.html">RewriteComponent.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 27 2013 00:22:30 for Occam - Application Specialization by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
